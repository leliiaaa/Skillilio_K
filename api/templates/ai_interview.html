{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>AI –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    
    <style>
        .no-copy-zone {
            -webkit-user-select: none; 
            -moz-user-select: none;    
            -ms-user-select: none;    
            user-select: none;     
        }

        body.is-blurred .protected-content {
            filter: blur(15px);
            opacity: 0.3;
            pointer-events: none; 
            transition: all 0.3s ease;
        }

        @media print {
            body { display: none !important; }
        }
    </style>
</head>
<body class="bg-light">

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="content-card border-0 p-5 shadow bg-white rounded-4 protected-content no-copy-zone">
                
                <div class="text-center mb-4">
                    <span style="font-size: 50px;">ü§ñ</span>
                    <h2 class="fw-bold">AI –°–ø—ñ–≤–±–µ—Å—ñ–¥–∞</h2>
                    <p class="text-muted">–î–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —â–æ–± –¥–æ–≤–µ—Å—Ç–∏ —Å–≤–æ—é –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å.</p>
                    <div class="badge bg-danger text-wrap p-2">
                        ‚ö†Ô∏è –£–≤–∞–≥–∞: –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è, —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ —Ç–∞ –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ —ñ–Ω—à—ñ –≤–∫–ª–∞–¥–∫–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ!
                    </div>
                </div>

                <div class="alert alert-info border-0 shadow-sm">
                    <strong>–ó–∞–ø–∏—Ç–∞–Ω–Ω—è –≤—ñ–¥ –®–Ü:</strong><br>
                    <div style="white-space: pre-line;">{{ questions }}</div>
                </div>

                <form action="{% url 'ai_interview_check' order.id %}" method="post">
                    {% csrf_token %}
                    
                    <input type="hidden" name="questions_text" value="{{ questions }}">

                    <div class="mb-4">
                        <label class="form-label fw-bold">–í–∞—à—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:</label>
                        <textarea name="user_answers" class="form-control" rows="6" 
                                  placeholder="–ü–∏—à—ñ—Ç—å —Ç—É—Ç —Å–≤–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ –ø—É–Ω–∫—Ç–∞—Ö..." 
                                  required onpaste="return false"></textarea>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary py-3 rounded-pill shadow">
                            –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É üöÄ
                        </button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {

        document.addEventListener('contextmenu', event => {
            event.preventDefault();
            return false;
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
                e.preventDefault();
            }
            if (e.ctrlKey && (e.key === 'c' || e.key === 'u' || e.key === 's' || e.key === 'p')) {
                e.preventDefault();
                alert("–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ!");
            }
        });

        document.addEventListener('keyup', function(e) {
            if (e.key === 'PrintScreen') {
                navigator.clipboard.writeText(''); 
                alert("–°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ! –¶–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è –ø—Ä–∞–≤–∏–ª —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.");
                document.body.style.display = 'none';
                setTimeout(() => { document.body.style.display = 'block'; }, 1000);
            }
        });

        window.addEventListener('blur', function() {
            document.body.classList.add('is-blurred');
            document.title = "‚ö†Ô∏è –ü–û–í–ï–†–ù–Ü–¢–¨–°–Ø –î–û –¢–ï–°–¢–£!";
        });

        window.addEventListener('focus', function() {
            document.body.classList.remove('is-blurred');
            document.title = "AI –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è";
        });
    });
</script>

</body>
</html>